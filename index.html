<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>To-Do List</title>
    <style>
      /* CSS 스타일 */
      .completed {
        text-decoration: line-through;
      }

      .trash {
        color: red;
      }
    </style>
  </head>
  <body>
    <h1>To-Do List</h1>
    <input type="text" id="taskInput" />
    <button id="addBtn">+</button>
    <button id="clearAllBtn">Clear All</button>

    <ul id="taskList"></ul>

    <!-- 휴지통 -->
    <h2>Trash</h2>
    <ul id="trashList"></ul>
    <button id="restoreBtn">Restore</button>

    <script>
      const taskInput = document.querySelector("#taskInput");
      const addBtn = document.querySelector("#addBtn");
      const clearAllBtn = document.querySelector("#clearAllBtn");
      const taskList = document.querySelector("#taskList");
      const trashList = document.querySelector("#trashList");
      const restoreBtn = document.querySelector("#restoreBtn");

      // 할 일 추가 함수
      function addTask() {
        const task = taskInput.value;
        if (task) {
          const taskItem = document.createElement("li");
          taskItem.innerText = task;
          taskItem.className = "task";
          taskList.appendChild(taskItem);
          taskInput.value = "";

          taskItem.addEventListener("click", function() {
            taskItem.classList.toggle("completed");
          });

          const deleteBtn = document.createElement("button");
          deleteBtn.innerText = "X";
          deleteBtn.className = "delete";
          taskItem.appendChild(deleteBtn);

          deleteBtn.addEventListener("click", function() {
            taskItem.remove();
            addToTrash(taskItem.innerText);
          });
        }
      }

      // 휴지통에 추가 함수
      function addToTrash(task) {
        const trashItem = document.createElement("li");
        trashItem.innerText = task;
        trashItem.className = "trash";
        trashList.appendChild(trashItem);
      }

      // 복구 함수
      function restoreTask(task) {
        const taskItem = document.createElement("li");
        taskItem.innerText = task;
        taskItem.className = "task";
        taskList.appendChild(taskItem);

        taskItem.addEventListener("click", function() {
          taskItem.classList.toggle("completed");
        });

        const deleteBtn = document.createElement("button");
        deleteBtn.innerText = "X";
        deleteBtn.className = "delete";
        taskItem.appendChild(deleteBtn);

        deleteBtn.addEventListener("click", function() {
          taskItem.remove();
          addToTrash(taskItem.innerText);
        });
      }

      // 초기화 함수
      function clearAll() {
        const taskItems = document.querySelectorAll(".task");
        taskItems.forEach(function(item) {
          item.remove();
          addToTrash(item.innerText);
        });
      }

      // 이벤트 리스너 추가
      addBtn.addEventListener("click", addTask);
      taskInput.addEventListener("keydown", function(event) {
        if (event.key === "Enter") {
          addTask();
        }
      });
      clearAllBtn.addEventListener("click", clearAll);

      restoreBtn.addEventListener("click", function() {
        const trashItems = document.querySelectorAll(".trash li");
        trashItems.forEach(function(item) {
          restoreTask(item.innerText);
          item.remove();
        });
      });
    </script>
  </body>
</html>
